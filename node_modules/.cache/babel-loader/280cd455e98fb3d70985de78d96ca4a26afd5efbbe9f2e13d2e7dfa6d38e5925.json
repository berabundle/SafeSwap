{"ast":null,"code":"/**\n * SwapForm Component - Handles swap execution and displays swap details\n * \n * Features:\n * - Shows selected tokens with amounts and USD values\n * - Dropdown selection for output token\n * - Real-time swap quote generation\n * - Safe transaction execution\n * - Loading states and error handling\n */import React,{useState,useEffect,useCallback}from'react';import{Box,Typography,Paper,Button,Select,MenuItem,FormControl,InputLabel,List,ListItem,ListItemAvatar,ListItemText,ListItemSecondaryAction,Avatar,IconButton,CircularProgress,Alert}from'@mui/material';import DeleteIcon from'@mui/icons-material/Delete';import SwapHorizIcon from'@mui/icons-material/SwapHoriz';import berabundlerService from'../services/BerabundlerService';import{useSafeAppsSDK}from'@safe-global/safe-apps-react-sdk';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";/**\n * Component for executing token swaps through Safe\n */const SwapForm=_ref=>{let{selectedTokens,availableTokens,onRemoveToken,onSwap,apiKey}=_ref;// Safe SDK hook\nconst{sdk,safe}=useSafeAppsSDK();// Component state\nconst[targetToken,setTargetToken]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const[swapQuote,setSwapQuote]=useState(null);/**\n   * Set default target token (BERA)\n   */useEffect(()=>{if(!targetToken&&availableTokens.length>0){const beraToken=availableTokens.find(t=>t.symbol==='BERA'||t.isNative);if(beraToken){setTargetToken(beraToken);}else{setTargetToken(availableTokens[0]);}}},[availableTokens,targetToken]);/**\n   * Initialize Berabundler service\n   */useEffect(()=>{if(sdk&&safe){berabundlerService.initialize(sdk,safe.chainId,apiKey||undefined);}},[sdk,safe,apiKey]);/**\n   * Generate swap quote from API\n   */const generateSwapQuote=useCallback(async()=>{if(!targetToken||selectedTokens.length===0||!berabundlerService.isInitialized()){return;}setLoading(true);setError(null);try{const result=await berabundlerService.prepareBundleTransactions(selectedTokens,targetToken,0.5// 0.5% slippage\n);if(result.success&&result.txs){setSwapQuote({totalValueUsd:result.totalValueUsd||0,estimatedOutput:result.estimatedOutput||'0',slippage:0.5});}else{setError(result.error||'Failed to generate swap quote');setSwapQuote(null);}}catch(err){console.error('Error generating swap quote:',err);setError(err.message||'Unknown error generating swap quote');setSwapQuote(null);}finally{setLoading(false);}},[selectedTokens,targetToken]);/**\n   * Regenerate quote when inputs change\n   */useEffect(()=>{if(selectedTokens.length>0&&targetToken&&apiKey){generateSwapQuote();}else{setSwapQuote(null);}},[selectedTokens,targetToken,apiKey,generateSwapQuote]);/**\n   * Handle target token selection\n   */const handleTargetTokenChange=event=>{const tokenAddress=event.target.value;const selected=availableTokens.find(token=>token.address===tokenAddress);if(selected){setTargetToken(selected);}};/**\n   * Execute swap through Safe\n   */const handleSwap=async()=>{if(!targetToken||selectedTokens.length===0||!swapQuote){setError('Cannot execute swap without a valid quote');return;}setLoading(true);setError(null);try{// Get final transaction data\nconst result=await berabundlerService.prepareBundleTransactions(selectedTokens,targetToken);if(result.success&&result.txs){// Create swap bundle for callback\nconst swapBundle={operations:[],targetToken,totalValueUsd:swapQuote.totalValueUsd,estimatedOutput:parseFloat(swapQuote.estimatedOutput)};// Send transaction through Safe SDK\nawait sdk.txs.send({txs:result.txs});// Notify parent component\nonSwap(swapBundle);// Clear quote\nsetSwapQuote(null);}else{setError(result.error||'Failed to prepare transactions');}}catch(err){console.error('Swap execution failed:',err);setError(err.message||'Unknown error executing swap');}finally{setLoading(false);}};/**\n   * Calculate total input value in USD\n   */const totalInputValue=selectedTokens.reduce((sum,_ref2)=>{let{token,amount}=_ref2;if(token.priceUsd){return sum+parseFloat(amount)*token.priceUsd;}return sum;},0);// Don't render if no tokens selected\nif(selectedTokens.length===0){return null;}return/*#__PURE__*/_jsxs(Box,{mb:4,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Swap Bundle\"}),/*#__PURE__*/_jsxs(Paper,{variant:\"outlined\",sx:{p:2},children:[/*#__PURE__*/_jsxs(Box,{mb:2,children:[/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle2\",gutterBottom:true,children:[\"Input Tokens (\",selectedTokens.length,\")\"]}),/*#__PURE__*/_jsx(List,{dense:true,children:selectedTokens.map(_ref3=>{let{token,amount}=_ref3;return/*#__PURE__*/_jsxs(ListItem,{children:[/*#__PURE__*/_jsx(ListItemAvatar,{children:/*#__PURE__*/_jsx(Avatar,{src:token.logoURI,alt:token.symbol,sx:{width:32,height:32},children:token.symbol.charAt(0)})}),/*#__PURE__*/_jsx(ListItemText,{primary:`${amount} ${token.symbol}`,secondary:token.priceUsd?`$${(parseFloat(amount)*token.priceUsd).toFixed(2)}`:null}),/*#__PURE__*/_jsx(ListItemSecondaryAction,{children:/*#__PURE__*/_jsx(IconButton,{edge:\"end\",size:\"small\",onClick:()=>onRemoveToken(token.address),children:/*#__PURE__*/_jsx(DeleteIcon,{fontSize:\"small\"})})})]},token.address);})}),totalInputValue>0&&/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"textSecondary\",align:\"right\",children:[\"Total Input: $\",totalInputValue.toFixed(2)]})]}),/*#__PURE__*/_jsx(Box,{display:\"flex\",justifyContent:\"center\",my:2,children:/*#__PURE__*/_jsx(SwapHorizIcon,{color:\"primary\"})}),/*#__PURE__*/_jsx(Box,{mb:3,children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,variant:\"outlined\",size:\"small\",children:[/*#__PURE__*/_jsx(InputLabel,{id:\"target-token-label\",children:\"Output Token\"}),/*#__PURE__*/_jsx(Select,{labelId:\"target-token-label\",value:(targetToken===null||targetToken===void 0?void 0:targetToken.address)||'',onChange:handleTargetTokenChange,label:\"Output Token\",children:availableTokens.map(token=>/*#__PURE__*/_jsx(MenuItem,{value:token.address,children:/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(Avatar,{src:token.logoURI,sx:{width:24,height:24,mr:1},children:token.symbol.charAt(0)}),/*#__PURE__*/_jsx(\"span\",{children:token.symbol})]})},token.address))})]})}),swapQuote&&/*#__PURE__*/_jsxs(Box,{mb:3,p:2,bgcolor:\"rgba(18, 255, 128, 0.05)\",borderRadius:1,children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",gutterBottom:true,children:\"Estimated Output\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",children:[parseFloat(swapQuote.estimatedOutput).toFixed(6),\" \",targetToken===null||targetToken===void 0?void 0:targetToken.symbol]}),(targetToken===null||targetToken===void 0?void 0:targetToken.priceUsd)&&/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"textSecondary\",children:[\"\\u2248 $\",(parseFloat(swapQuote.estimatedOutput)*targetToken.priceUsd).toFixed(2)]}),/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",color:\"textSecondary\",display:\"block\",mt:1,children:[\"Slippage: \",swapQuote.slippage,\"%\"]})]}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:2},children:error}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",size:\"large\",fullWidth:true,onClick:handleSwap,disabled:loading||!swapQuote||!apiKey,startIcon:loading?/*#__PURE__*/_jsx(CircularProgress,{size:20}):/*#__PURE__*/_jsx(SwapHorizIcon,{}),children:loading?'Processing...':'Execute Swap'}),!apiKey&&/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"error\",display:\"block\",mt:1,textAlign:\"center\",children:\"Please enter your API key above\"})]})]});};export default SwapForm;","map":{"version":3,"names":["React","useState","useEffect","useCallback","Box","Typography","Paper","Button","Select","MenuItem","FormControl","InputLabel","List","ListItem","ListItemAvatar","ListItemText","ListItemSecondaryAction","Avatar","IconButton","CircularProgress","Alert","DeleteIcon","SwapHorizIcon","berabundlerService","useSafeAppsSDK","jsx","_jsx","jsxs","_jsxs","SwapForm","_ref","selectedTokens","availableTokens","onRemoveToken","onSwap","apiKey","sdk","safe","targetToken","setTargetToken","loading","setLoading","error","setError","swapQuote","setSwapQuote","length","beraToken","find","t","symbol","isNative","initialize","chainId","undefined","generateSwapQuote","isInitialized","result","prepareBundleTransactions","success","txs","totalValueUsd","estimatedOutput","slippage","err","console","message","handleTargetTokenChange","event","tokenAddress","target","value","selected","token","address","handleSwap","swapBundle","operations","parseFloat","send","totalInputValue","reduce","sum","_ref2","amount","priceUsd","mb","children","variant","gutterBottom","sx","p","dense","map","_ref3","src","logoURI","alt","width","height","charAt","primary","secondary","toFixed","edge","size","onClick","fontSize","color","align","display","justifyContent","my","fullWidth","id","labelId","onChange","label","alignItems","mr","bgcolor","borderRadius","mt","severity","disabled","startIcon","textAlign"],"sources":["/home/oliver/Projects/SafeSwap/src/components/SwapForm.tsx"],"sourcesContent":["/**\n * SwapForm Component - Handles swap execution and displays swap details\n * \n * Features:\n * - Shows selected tokens with amounts and USD values\n * - Dropdown selection for output token\n * - Real-time swap quote generation\n * - Safe transaction execution\n * - Loading states and error handling\n */\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { \n  Box, \n  Typography, \n  Paper, \n  Button, \n  Select, \n  MenuItem, \n  FormControl, \n  InputLabel,\n  List,\n  ListItem,\n  ListItemAvatar,\n  ListItemText,\n  ListItemSecondaryAction,\n  Avatar,\n  IconButton,\n  CircularProgress,\n  Alert\n} from '@mui/material';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport SwapHorizIcon from '@mui/icons-material/SwapHoriz';\n\nimport { Token, TokenAmount, SwapBundle } from '../types';\nimport berabundlerService from '../services/BerabundlerService';\nimport { useSafeAppsSDK } from '@safe-global/safe-apps-react-sdk';\n\ninterface SwapFormProps {\n  selectedTokens: TokenAmount[];\n  availableTokens: Token[];\n  onRemoveToken: (tokenAddress: string) => void;\n  onSwap: (swapBundle: SwapBundle) => void;\n  apiKey: string | null;\n}\n\n/**\n * Component for executing token swaps through Safe\n */\nconst SwapForm: React.FC<SwapFormProps> = ({ \n  selectedTokens, \n  availableTokens, \n  onRemoveToken, \n  onSwap,\n  apiKey\n}) => {\n  // Safe SDK hook\n  const { sdk, safe } = useSafeAppsSDK();\n  \n  // Component state\n  const [targetToken, setTargetToken] = useState<Token | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [swapQuote, setSwapQuote] = useState<{\n    totalValueUsd: number;\n    estimatedOutput: string;\n    slippage: number;\n  } | null>(null);\n\n  /**\n   * Set default target token (BERA)\n   */\n  useEffect(() => {\n    if (!targetToken && availableTokens.length > 0) {\n      const beraToken = availableTokens.find(t => t.symbol === 'BERA' || t.isNative);\n      if (beraToken) {\n        setTargetToken(beraToken);\n      } else {\n        setTargetToken(availableTokens[0]);\n      }\n    }\n  }, [availableTokens, targetToken]);\n\n  /**\n   * Initialize Berabundler service\n   */\n  useEffect(() => {\n    if (sdk && safe) {\n      berabundlerService.initialize(sdk, safe.chainId, apiKey || undefined);\n    }\n  }, [sdk, safe, apiKey]);\n\n  /**\n   * Generate swap quote from API\n   */\n  const generateSwapQuote = useCallback(async () => {\n    if (!targetToken || selectedTokens.length === 0 || !berabundlerService.isInitialized()) {\n      return;\n    }\n\n    setLoading(true);\n    setError(null);\n    \n    try {\n      const result = await berabundlerService.prepareBundleTransactions(\n        selectedTokens,\n        targetToken,\n        0.5 // 0.5% slippage\n      );\n\n      if (result.success && result.txs) {\n        setSwapQuote({\n          totalValueUsd: result.totalValueUsd || 0,\n          estimatedOutput: result.estimatedOutput || '0',\n          slippage: 0.5\n        });\n      } else {\n        setError(result.error || 'Failed to generate swap quote');\n        setSwapQuote(null);\n      }\n    } catch (err: any) {\n      console.error('Error generating swap quote:', err);\n      setError(err.message || 'Unknown error generating swap quote');\n      setSwapQuote(null);\n    } finally {\n      setLoading(false);\n    }\n  }, [selectedTokens, targetToken]);\n\n  /**\n   * Regenerate quote when inputs change\n   */\n  useEffect(() => {\n    if (selectedTokens.length > 0 && targetToken && apiKey) {\n      generateSwapQuote();\n    } else {\n      setSwapQuote(null);\n    }\n  }, [selectedTokens, targetToken, apiKey, generateSwapQuote]);\n\n  /**\n   * Handle target token selection\n   */\n  const handleTargetTokenChange = (event: any) => {\n    const tokenAddress = event.target.value as string;\n    const selected = availableTokens.find(token => token.address === tokenAddress);\n    if (selected) {\n      setTargetToken(selected);\n    }\n  };\n\n  /**\n   * Execute swap through Safe\n   */\n  const handleSwap = async () => {\n    if (!targetToken || selectedTokens.length === 0 || !swapQuote) {\n      setError('Cannot execute swap without a valid quote');\n      return;\n    }\n\n    setLoading(true);\n    setError(null);\n\n    try {\n      // Get final transaction data\n      const result = await berabundlerService.prepareBundleTransactions(\n        selectedTokens,\n        targetToken\n      );\n\n      if (result.success && result.txs) {\n        // Create swap bundle for callback\n        const swapBundle: SwapBundle = {\n          operations: [],\n          targetToken,\n          totalValueUsd: swapQuote.totalValueUsd,\n          estimatedOutput: parseFloat(swapQuote.estimatedOutput)\n        };\n\n        // Send transaction through Safe SDK\n        await sdk.txs.send({ txs: result.txs });\n        \n        // Notify parent component\n        onSwap(swapBundle);\n        \n        // Clear quote\n        setSwapQuote(null);\n      } else {\n        setError(result.error || 'Failed to prepare transactions');\n      }\n    } catch (err: any) {\n      console.error('Swap execution failed:', err);\n      setError(err.message || 'Unknown error executing swap');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  /**\n   * Calculate total input value in USD\n   */\n  const totalInputValue = selectedTokens.reduce((sum, { token, amount }) => {\n    if (token.priceUsd) {\n      return sum + (parseFloat(amount) * token.priceUsd);\n    }\n    return sum;\n  }, 0);\n\n  // Don't render if no tokens selected\n  if (selectedTokens.length === 0) {\n    return null;\n  }\n\n  return (\n    <Box mb={4}>\n      <Typography variant=\"h6\" gutterBottom>\n        Swap Bundle\n      </Typography>\n\n      <Paper variant=\"outlined\" sx={{ p: 2 }}>\n        {/* Input tokens section */}\n        <Box mb={2}>\n          <Typography variant=\"subtitle2\" gutterBottom>\n            Input Tokens ({selectedTokens.length})\n          </Typography>\n          \n          <List dense>\n            {selectedTokens.map(({ token, amount }) => (\n              <ListItem key={token.address}>\n                <ListItemAvatar>\n                  <Avatar src={token.logoURI} alt={token.symbol} sx={{ width: 32, height: 32 }}>\n                    {token.symbol.charAt(0)}\n                  </Avatar>\n                </ListItemAvatar>\n                <ListItemText\n                  primary={`${amount} ${token.symbol}`}\n                  secondary={token.priceUsd ? `$${(parseFloat(amount) * token.priceUsd).toFixed(2)}` : null}\n                />\n                <ListItemSecondaryAction>\n                  <IconButton \n                    edge=\"end\" \n                    size=\"small\"\n                    onClick={() => onRemoveToken(token.address)}\n                  >\n                    <DeleteIcon fontSize=\"small\" />\n                  </IconButton>\n                </ListItemSecondaryAction>\n              </ListItem>\n            ))}\n          </List>\n          \n          {/* Total input value */}\n          {totalInputValue > 0 && (\n            <Typography variant=\"body2\" color=\"textSecondary\" align=\"right\">\n              Total Input: ${totalInputValue.toFixed(2)}\n            </Typography>\n          )}\n        </Box>\n\n        {/* Swap arrow */}\n        <Box display=\"flex\" justifyContent=\"center\" my={2}>\n          <SwapHorizIcon color=\"primary\" />\n        </Box>\n\n        {/* Output token selector */}\n        <Box mb={3}>\n          <FormControl fullWidth variant=\"outlined\" size=\"small\">\n            <InputLabel id=\"target-token-label\">Output Token</InputLabel>\n            <Select\n              labelId=\"target-token-label\"\n              value={targetToken?.address || ''}\n              onChange={handleTargetTokenChange}\n              label=\"Output Token\"\n            >\n              {availableTokens.map(token => (\n                <MenuItem key={token.address} value={token.address}>\n                  <Box display=\"flex\" alignItems=\"center\">\n                    <Avatar \n                      src={token.logoURI} \n                      sx={{ width: 24, height: 24, mr: 1 }}\n                    >\n                      {token.symbol.charAt(0)}\n                    </Avatar>\n                    <span>{token.symbol}</span>\n                  </Box>\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n        </Box>\n\n        {/* Swap quote display */}\n        {swapQuote && (\n          <Box mb={3} p={2} bgcolor=\"rgba(18, 255, 128, 0.05)\" borderRadius={1}>\n            <Typography variant=\"subtitle2\" gutterBottom>\n              Estimated Output\n            </Typography>\n            <Typography variant=\"h6\">\n              {parseFloat(swapQuote.estimatedOutput).toFixed(6)} {targetToken?.symbol}\n            </Typography>\n            {targetToken?.priceUsd && (\n              <Typography variant=\"body2\" color=\"textSecondary\">\n                ≈ ${(parseFloat(swapQuote.estimatedOutput) * targetToken.priceUsd).toFixed(2)}\n              </Typography>\n            )}\n            <Typography variant=\"caption\" color=\"textSecondary\" display=\"block\" mt={1}>\n              Slippage: {swapQuote.slippage}%\n            </Typography>\n          </Box>\n        )}\n\n        {/* Error display */}\n        {error && (\n          <Alert severity=\"error\" sx={{ mb: 2 }}>\n            {error}\n          </Alert>\n        )}\n\n        {/* Execute button */}\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          size=\"large\"\n          fullWidth\n          onClick={handleSwap}\n          disabled={loading || !swapQuote || !apiKey}\n          startIcon={loading ? <CircularProgress size={20} /> : <SwapHorizIcon />}\n        >\n          {loading ? 'Processing...' : 'Execute Swap'}\n        </Button>\n        \n        {/* API key warning */}\n        {!apiKey && (\n          <Typography variant=\"caption\" color=\"error\" display=\"block\" mt={1} textAlign=\"center\">\n            Please enter your API key above\n          </Typography>\n        )}\n      </Paper>\n    </Box>\n  );\n};\n\nexport default SwapForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}